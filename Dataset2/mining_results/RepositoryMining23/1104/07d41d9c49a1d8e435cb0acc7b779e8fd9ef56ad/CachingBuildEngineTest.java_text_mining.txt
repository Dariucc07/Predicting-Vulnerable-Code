{'package': 1, 'com': 74, 'facebook': 58, 'buck': 54, 'rules': 7, 'import': 88, 'static': 24, 'event': 5, 'TestEventConfigerator': 1, 'configureTestEvent': 37, 'google': 15, 'common': 15, 'util': 15, 'concurrent': 8, 'MoreExecutors': 22, 'listeningDecorator': 4, 'org': 13, 'easymock': 5, 'EasyMock': 4, 'anyObject': 3, 'eq': 3, 'expect': 6, 'isA': 3, 'hamcrest': 3, 'Matchers': 11, 'equalTo': 25, 'is': 2, 'junit': 5, 'Assert': 3, 'assertEquals': 57, 'assertThat': 33, 'assertTrue': 12, 'ArtifactCache': 12, 'CacheResult': 16, 'CacheResultType': 6, 'InMemoryArtifactCache': 29, 'NoopArtifactCache': 7, 'cli': 2, 'BuildTargetNodeToBuildRuleTransformer': 38, 'CommandEvent': 7, 'BuckEvent': 11, 'BuckEventBus': 14, 'BuckEventBusFactory': 10, 'FakeBuckEventListener': 13, 'file': 29, 'WriteFile': 2, 'io': 3, 'ProjectFilesystem': 25, 'jvm': 2, 'core': 1, 'JavaPackageFinder': 3, 'java': 11, 'FakeJavaPackageFinder': 21, 'model': 3, 'BuildId': 3, 'BuildTarget': 17, 'BuildTargetFactory': 32, 'keys': 6, 'AbiRuleKeyBuilderFactory': 6, 'DefaultRuleKeyBuilderFactory': 19, 'DefaultDependencyFileRuleKeyBuilderFactory': 6, 'DependencyFileRuleKeyBuilderFactory': 2, 'SupportsDependencyFileRuleKey': 2, 'SupportsInputBasedRuleKey': 2, 'shell': 2, 'Genrule': 5, 'GenruleBuilder': 6, 'step': 10, 'AbstractExecutionStep': 9, 'DefaultStepRunner': 2, 'ExecutionContext': 12, 'Step': 45, 'StepFailedException': 2, 'StepRunner': 4, 'TestExecutionContext': 2, 'fs': 1, 'WriteFileStep': 5, 'testutil': 5, 'FakeProjectFilesystem': 23, 'MoreAsserts': 2, 'RuleMap': 3, 'integration': 2, 'DebuggableTemporaryFolder': 3, 'ZipInspector': 5, 'timing': 1, 'DefaultClock': 3, 'cache': 50, 'DefaultFileHashCache': 45, 'FileHashCache': 5, 'NullFileHashCache': 4, 'MoreFutures': 2, 'zip': 12, 'CustomZipEntry': 3, 'CustomZipOutputStream': 2, 'ZipOutputStreams': 2, 'fasterxml': 1, 'jackson': 1, 'databind': 1, 'ObjectMapper': 22, 'base': 4, 'Functions': 11, 'Optional': 32, 'Preconditions': 12, 'Throwables': 4, 'collect': 5, 'ImmutableList': 101, 'ImmutableMap': 14, 'ImmutableSet': 9, 'ImmutableSortedSet': 12, 'Lists': 2, 'hash': 3, 'HashCode': 11, 'Futures': 2, 'ListenableFuture': 6, 'ListeningExecutorService': 4, 'EasyMockSupport': 2, 'Rule': 2, 'Test': 24, 'File': 1, 'IOException': 11, 'nio': 2, 'Path': 37, 'Paths': 14, 'Comparator': 2, 'Iterator': 6, 'List': 10, 'Map': 6, 'ExecutionException': 5, 'Executors': 4, 'javax': 1, 'annotation': 1, 'Nullable': 8, 'public': 74, 'class': 18, 'CachingBuildEngineTest': 1, 'extends': 8, 'private': 29, 'final': 55, 'newInstance': 40, 'src': 9, 'orca': 14, 'SourcePathResolver': 52, 'new': 407, 'BuildRuleResolver': 54, 'TargetGraph': 37, 'EMPTY': 37, 'RuleKeyBuilderFactory': 16, 'tmp': 25, 'void': 25, 'testBuildRuleLocallyWithCacheMiss': 1, 'throws': 28, 'InterruptedException': 7, 'filesystem': 142, 'getRoot': 19, 'fileHashCache': 70, 'resolver': 68, 'ruleKeyBuilderFactory': 74, 'rule': 71, 'depTarget': 8, 'lib': 3, 'FakeBuildRule': 17, 'dep': 18, 'built': 6, 'buckEventBus': 62, 'listener': 17, 'register': 6, 'AbstractCachingBuildRule': 1, 'replayAll': 5, 'String': 23, 'pathToOutputFile': 12, 'out': 6, 'gen': 5, 'buildSteps': 10, 'newArrayList': 1, 'BuildRule': 57, 'ruleToTest': 34, 'createRule': 5, 'of': 114, 'verifyAll': 5, 'resetAll': 1, 'build': 119, 'method': 6, 'BuildContext': 32, 'context': 28, 'FakeBuildContext': 20, 'newBuilder': 21, 'setEventBus': 9, 'setArtifactCache': 22, 'setJavaPackageFinder': 22, 'setActionGraph': 22, 'ActionGraph': 20, 'CachingBuildEngine': 125, 'cachingBuildEngine': 55, 'newDirectExecutorService': 20, 'BuildMode': 23, 'SHALLOW': 21, 'DependencySchedulingOrder': 23, 'RANDOM': 23, 'DepFiles': 23, 'ENABLED': 23, 'executed': 3, 'add': 1, 'Override': 41, 'int': 8, 'execute': 9, 'touch': 3, 'getPathToOutput': 12, 'return': 41, 'miss': 4, 'setBuildRuleResult': 1, 'BuildRuleSuccessType': 30, 'BuildResult': 26, 'result': 49, 'get': 41, 'getSuccess': 22, 'post': 3, 'finished': 11, 'started': 13, 'false': 9, 'RuleKey': 25, 'ruleToTestKey': 8, 'hasArtifact': 2, 'events': 17, 'getEvents': 5, 'hasSize': 5, 'eventIter': 40, 'iterator': 5, 'BuildRuleEvent': 36, 'next': 35, 'suspended': 10, 'BuildRuleStatus': 20, 'SUCCESS': 13, 'absent': 16, 'Long': 8, 'size': 1, 'testAsyncJobsAreNotLeftInExecutor': 1, 'BuildRuleParams': 19, 'buildRuleParams': 10, 'FakeBuildRuleParamsBuilder': 26, 'setProjectFilesystem': 26, 'buildRule': 20, 'buildContext': 39, 'Void': 2, 'store': 3, 'ruleKeys': 2, 'metadata': 9, 'output': 43, 'try': 4, 'Thread': 2, 'sleep': 4, 'catch': 3, 'e': 6, 'throw': 10, 'propagate': 3, 'immediateFuture': 1, 'null': 19, 'service': 9, 'newFixedThreadPool': 3, 'buildResult': 7, 'shutdownNow': 3, 'isEmpty': 3, 'getEventName': 12, 'resumed': 8, 'testArtifactFetchedFromCache': 1, 'hashCache': 4, 'UnsupportedOperationException': 4, 'stepRunner': 4, 'createStepRunner': 3, 'artifactCache': 6, 'createMock': 5, 'desiredZipEntries': 4, 'jar': 4, 'fetch': 8, 'andDelegateTo': 2, 'FakeArtifactCacheThatWritesAZipFile': 4, 'ImmutableBuildContext': 2, 'builder': 2, 'createGraphFromSingleRule': 2, 'setStepRunner': 2, 'setClock': 2, 'setBuildId': 2, 'writeContentsToPath': 38, 'writeValueAsString': 21, 'BuildInfo': 81, 'getPathToMetadataDirectory': 34, 'getBuildTarget': 28, 'resolve': 34, 'case': 4, 'resolved': 1, 'isSuccess': 1, 'BuildableAbstractCachingBuildRule': 5, 'isInitializedFromDisk': 6, 'exists': 2, 'testArtifactFetchedFromCacheStillRunsPostBuildSteps': 1, 'buildStep': 5, 'getDescription': 1, 'andReturn': 3, 'anyTimes': 2, 'getShortName': 1, 'testMatchingTopLevelRuleKeyAvoidsProcessingDepInShallowMode': 1, 'Exception': 18, 'pathResolver': 70, 'toString': 34, 'engine': 13, 'localKeyUnchangedHit': 6, 'testMatchingTopLevelRuleKeyStillProcessesDepInDeepMode': 1, 'ruleParams': 4, 'depKey': 2, 'DEEP': 2, 'testMatchingTopLevelRuleKeyStillProcessesRuntimeDeps': 1, 'top': 4, 'level': 4, 'transitiveRuntimeDep': 9, 'transitiveRuntimeDepKey': 2, 'runtimeDep': 9, 'FakeHasRuntimeDeps': 4, 'runtimeDepKey': 2, 'matchingRuleKeyDoesNotRunPostBuildSteps': 1, 'failingStep': 2, 'testBuildRuleLocallyWithCacheError': 1, 'ruleKey': 2, 'error': 1, 'locally': 1, 'NoopBuildRule': 1, 'getCacheResult': 1, 'getType': 5, 'ERROR': 1, 'inputBasedRuleKeyAndArtifactAreWrittenForSupportedRules': 1, 'target': 47, 'params': 25, 'inputRuleKey': 12, 'InputRuleKeyBuildRule': 5, 'getBuildSteps': 9, 'BuildableContext': 10, 'buildableContext': 13, 'constant': 10, 'RuleKeyFactories': 10, 'FakeRuleKeyBuilderFactory': 5, 'key': 4, 'disk': 5, 'OnDiskBuildInfo': 6, 'onDiskBuildInfo': 13, 'createOnDiskBuildInfoFor': 5, 'getRuleKey': 6, 'inputBasedRuleKeyMatchAvoidsBuildingLocally': 1, 'rebuild': 1, 'not': 2, 're': 2, 'cached': 2, 'fetchedArtifact': 11, 'newFile': 5, 'toPath': 5, 'MISS': 1, 'inputBasedRuleKeyCacheHitAvoidsBuildingLocally': 1, 'input': 26, 'based': 2, 'artifact': 8, 'writeEntriesToZip': 3, 'HIT': 3, 'getZipFileEntries': 2, 'assertContentsEqual': 1, 'depFileRuleKeyAndDepFileAreWrittenForSupportedRules': 1, 'depFileRuleKey': 11, 'DepFileBuildRule': 6, 'SourcePath': 11, 'getInputsAfterBuildingLocally': 4, 'PathSourcePath': 3, 'getValues': 1, 'cacheResult': 6, 'getMetadata': 2, 'inspector': 2, 'assertFileContents': 1, 'depFileRuleKeyMatchAvoidsBuilding': 1, 'depFileInputChangeCausesRebuild': 1, 'factory': 9, 'depFilefactory': 6, 'genrule': 6, 'newGenruleBuilder': 5, 'setOut': 5, 'checkNotNull': 11, 'AddToRuleKey': 2, 'path': 3, 'BuildTargetSourcePath': 4, 'addMetadata': 2, 'invalidate': 2, 'depFileDeletedInputCausesRebuild': 1, 'deleteFileAtPath': 1, 'buildingRuleLocallyInvalidatesOutputs': 1, 'First': 1, 'mkdirs': 1, 'getParent': 1, 'originalHashCode': 2, 'willGet': 1, 'newHashCode': 2, 'dependencyFailuresDoesNotOrphanOtherDependencies': 1, 'first': 2, 'immediately': 2, 'tree': 4, 'RuleWithSteps': 12, 'FailingStep': 4, 'setDeclaredDeps': 7, 'SleepStep': 10, 'chain': 2, 'getStatus': 11, 'CANCELED': 7, 'getBuildRuleResult': 8, 'FAIL': 3, 'oneOf': 2, 'runningWithKeepGoingBuildsAsMuchAsPossible': 1, 'setKeepGoing': 1, 'true': 4, 'abiRuleKeyIsWrittenForSupportedRules': 1, 'FakeAbiRuleBuildRule': 6, 'abiRuleKey': 3, 'isPresent': 1, 'abiRuleKeyMatchAvoidsBuilding': 1, 'abiRuleKeyBuilderFactory': 6, 'abiRuleKeyChangeCausesRebuild': 1, 'StringBuilder': 1, 'reverse': 1, 'getNumRulesToBuild': 2, 'setSrcs': 2, 'TODO': 4, 'bolinfest': 4, 'match': 1, 'value': 1, 'appropriately': 1, 'exception': 1, 'deps': 3, 'postBuildSteps': 7, 'comparator': 2, 'RetainOrderComparator': 1, 'createComparator': 1, 'sortedDeps': 2, 'copyOf': 4, 'switch': 1, 'getFailure': 1, 'RuntimeException': 2, 'default': 1, 'IllegalStateException': 1, 'AbstractBuildRule': 4, 'implements': 5, 'HasPostBuildSteps': 1, 'InitializableFromDisk': 1, 'Object': 5, 'BuildOutputInitializer': 3, 'buildOutputInitializer': 3, 'boolean': 4, 'super': 7, 'this': 10, 'if': 1, 'recordArtifact': 1, 'getPostBuildSteps': 1, 'initializeFromDisk': 1, 'getBuildOutputInitializer': 1, 'desiredEntries': 5, 'hit': 1, 'isStoreSupported': 1, 'close': 1, 'HasRuntimeDeps': 1, 'runtimeDeps': 5, 'getRuntimeDeps': 1, 'abstract': 2, 'useDependencyFileRuleKeys': 1, 'steps': 5, 'long': 2, 'millis': 6, 'format': 1, 'sms': 1, 'entries': 2, 'newOutputStream': 1, 'for': 1, 'Entry': 1, 'mapEntry': 3, 'entrySet': 1, 'entry': 3, 'getKey': 1, 'setTime': 1, 'putNextEntry': 1, 'write': 1, 'getValue': 1, 'getBytes': 1, 'closeEntry': 1, 'eventBus': 3, 'executionContext': 2}